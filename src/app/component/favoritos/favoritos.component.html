<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

<div class="mobile-container">
  <header class="favorites-header">
    <div class="search-bar">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input type="text" placeholder="Procurar">
    </div>
    <img src="images/avatar.png" alt="Avatar do Usuário" class="user-avatar">
  </header>

  <div class="favorites-title">
    <h1>Favoritos</h1>
  </div>

  <main class="favorites-content">
    <div *ngIf="favorites.length === 0" class="empty-favorites">
      <i class="fa-regular fa-heart"></i>
      <h2>Nenhum favorito ainda</h2>
      <p>Adicione seus pratos favoritos para encontrá-los facilmente!</p>
      <button class="continue-btn" (click)="continueShopping()">Ver Menu</button>
    </div>

    <section class="product-grid" *ngIf="favorites.length > 0">
      <a [routerLink]="['/detalhe', product.id]" class="product-link" *ngFor="let product of favorites">
        <article class="product-card">
          <button class="favorite-btn" (click)="removeFromFavorites(product.id, $event)">
            <i class="fa-solid fa-heart"></i>
          </button>
          <img [src]="product.image" [alt]="product.name">
          <div class="product-info">
            <h3>{{product.name}}</h3>
            <span class="price">R$ {{product.price.toFixed(2)}}</span>
            <div class="add-button" *ngIf="getItemQuantity(product.id) === 0" (click)="addToCart(product, $event)">
              <i class="fa-solid fa-circle-plus"></i>
            </div>
            <div class="quantity-selected" *ngIf="getItemQuantity(product.id) > 0">
              <i class="fa-solid fa-check"></i>
              <span>{{getItemQuantity(product.id)}}</span>
            </div>
          </div>
        </article>
      </a>
    </section>
  </main>

  <footer class="bottom-nav">
    <a routerLink="/menu" routerLinkActive="active" class="nav-item"><i class="fa-solid fa-grip"></i></a>
    <a routerLink="/historico" routerLinkActive="active" class="nav-item"><i class="fa-solid fa-clock-rotate-left"></i></a>
    <a routerLink="/favoritos" routerLinkActive="active" class="nav-item"><i class="fa-regular fa-heart"></i></a>
    <a routerLink="/carrinho" class="nav-item cart" [class.active]="cartItemCount > 0">
      <i class="fa-solid fa-cart-shopping"></i>
      <span class="cart-count" *ngIf="cartItemCount > 0">{{cartItemCount}}</span>
    </a>
  </footer>
</div>
